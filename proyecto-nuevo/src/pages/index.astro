---
import Layout from '../layouts/Layout.astro';
import HeaderLanding from '../components/HeaderLanding.astro';
import { Sparkles, LogIn, Wallet, PieChart, Building2, BarChart2, ShieldCheck, Cloud, UserPlus, LayoutDashboard, TrendingUp, ChevronLeft, ChevronRight, Gem, CheckCircle, XCircle, Crown, ChevronDown, Rocket, Mail, Heart } from '@lucide/astro';

const appName = "Contabilito";
---

<Layout title="Bienvenido">
    <HeaderLanding appName={appName} />

    <main class="flex-grow pt-[80px] pb-16 bg-gradient-to-br from-purple-100 to-white dark:from-gray-900 dark:to-gray-800 transition-colors duration-500 overflow-hidden relative">

        <!-- Fondo de malla animada -->
        <div class="absolute inset-0 z-0 pointer-events-none grid-background"></div>

        <!-- Hero Section -->
        <section class="relative max-w-7xl mx-auto px-6 py-20 text-center z-10 overflow-hidden">
            <div class="relative z-10 inline-block mb-8">
                <h1 class="text-5xl md:text-7xl font-extrabold text-gray-900 dark:text-gray-100 leading-tight animate-fade-in-up-hero drop-shadow-2xl">
                    El Control Financiero<br class="hidden sm:inline" /> Que Siempre Soñaste.
                </h1>

                <div class="absolute -left-1 w-20 h-20 bg-purple-600 dark:bg-purple-800 rounded-full filter blur-xl mix-blend-multiply opacity-100 animate-blob animation-delay-1000"></div>
                <div class="absolute -right-1 w-16 h-16 bg-blue-600 dark:bg-blue-800 rounded-full filter blur-xl mix-blend-multiply opacity-100 animate-blob-left"></div>

            </div>

            <p class="text-xl md:text-2xl text-gray-700 dark:text-gray-300 mt-4 max-w-3xl mx-auto animate-fade-in-up-hero animation-delay-300">
                <span class="font-semibold text-indigo-700 dark:text-indigo-500">{appName}</span> te ofrece una visión clara y herramientas potentes para dominar tus finanzas, sin complicaciones.
            </p>

            <div class="mt-10 flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6 animate-fade-in-up-hero animation-delay-600">

                <a href="/register" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-10 rounded-full shadow-xl hover:shadow-indigo-500/50 transition-all duration-500 transform hover:scale-105 hover:-translate-y-1 text-lg flex items-center group">
                    <Sparkles class="w-6 h-6 mr-3 transition-transform duration-900 group-hover:rotate-90" /> Empieza Gratis
                </a>

                <a href="/login" class="bg-transparent text-indigo-700 dark:text-indigo-300 font-semibold py-4 px-10 rounded-full shadow-lg hover:shadow-indigo-500/60 transition-all duration-500 transform hover:scale-105 hover:-translate-y-1 text-lg border-2 border-indigo-300 dark:border-indigo-600 hover:border-indigo-500 flex items-center group">
                    <LogIn class="w-6 h-6 mr-3 transition-transform duration-700 group-hover:-translate-x-2" /> Acceder
                </a>
            </div>

        </section>


        <!-- Features Section (Existing) -->
        <section class="relative max-w-7xl mx-auto px-6 py-16">
            <h2 class="text-4xl font-extrabold text-center text-gray-900 dark:text-gray-100 mb-12 animate-fade-in-up animation-delay-1500">
                Características que te encantarán
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                <div class="bg-white/100 dark:bg-gray-800 p-8 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 text-center transform hover:scale-[1.03] transition-all duration-300 animate-fade-in-up animation-delay-1700">
                    <Wallet class="w-16 h-16 mx-auto text-green-600 dark:text-green-400 mb-6" />
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3">Control Total</h3>
                    <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
                        Registra cada ingreso y gasto, categoriza tus transacciones y mantén un seguimiento preciso de tu dinero.
                    </p>
                </div>
                <div class="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 text-center transform hover:scale-[1.03] transition-all duration-300 animate-fade-in-up animation-delay-1900">
                    <PieChart class="w-16 h-16 mx-auto text-purple-600 dark:text-purple-400 mb-6" />
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3">Análisis Visual</h3>
                    <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
                        Visualiza tus finanzas con gráficos claros y reportes detallados para tomar decisiones inteligentes.
                    </p>
                </div>
                <div class="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 text-center transform hover:scale-[1.03] transition-all duration-300 animate-fade-in-up animation-delay-2100">
                    <Building2 class="w-16 h-16 mx-auto text-orange-600 dark:text-orange-400 mb-6" />
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3">Gestión Multi-Empresa</h3>
                    <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
                        Administra las finanzas de múltiples empresas desde una única plataforma intuitiva.
                    </p>
                </div>
            </div>
        </section>

        <!-- cartas de funcionalidades con hover -->
        <section class="max-w-7xl mx-auto px-6 py-16 relative z-10">
            <h2 class="text-4xl font-extrabold text-center text-gray-900 dark:text-gray-100 mb-12 animate-fade-in-up">
                Funcionalidades que te impulsan
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                <div class="feature-card bg-white/10 dark:bg-gray-800/20 backdrop-blur-lg p-8 rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/30 text-center transform hover:scale-[1.03] transition-transform duration-300 animate-fade-in-up animation-delay-200 relative overflow-hidden group">
                    <div class="feature-card-glow absolute inset-0 rounded-3xl pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    <BarChart2 class="w-20 h-20 mx-auto text-teal-500 dark:text-teal-400 mb-6 drop-shadow-lg relative z-10" />
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3 relative z-10">Análisis Profundo</h3>
                    <p class="text-gray-700 dark:text-gray-300 leading-relaxed relative z-10">
                        Obtén reportes detallados y visualizaciones claras para entender cada aspecto de tus finanzas.
                    </p>
                </div>
                <div class="feature-card bg-white/10 dark:bg-gray-800/20 backdrop-blur-lg p-8 rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/30 text-center transform hover:scale-[1.03] transition-transform duration-300 animate-fade-in-up animation-delay-400 relative overflow-hidden group">
                    <div class="feature-card-glow absolute inset-0 rounded-3xl pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    <ShieldCheck class="w-20 h-20 mx-auto text-yellow-500 dark:text-yellow-400 mb-6 drop-shadow-lg relative z-10" />
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3 relative z-10">Seguridad Total</h3>
                    <p class="text-gray-700 dark:text-gray-300 leading-relaxed relative z-10">
                        Tus datos protegidos con encriptación y las mejores prácticas de seguridad.
                    </p>
                </div>
                <div class="feature-card bg-white/10 dark:bg-gray-800/20 backdrop-blur-lg p-8 rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/30 text-center transform hover:scale-[1.03] transition-transform duration-300 animate-fade-in-up animation-delay-600 relative overflow-hidden group">
                    <div class="feature-card-glow absolute inset-0 rounded-3xl pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    <Cloud class="w-20 h-20 mx-auto text-indigo-500 dark:text-indigo-400 mb-6 drop-shadow-lg relative z-10" />
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3 relative z-10">Acceso Universal</h3>
                    <p class="text-gray-700 dark:text-gray-300 leading-relaxed relative z-10">
                        Gestiona tus finanzas desde cualquier dispositivo, en cualquier momento y lugar.
                    </p>
                </div>
            </div>
        </section>

        <!-- New Section 1: How It Works -->
        <section class="max-w-7xl mx-auto px-6 py-16">
            <h2 class="text-4xl font-extrabold text-center text-gray-900 dark:text-gray-100 mb-12 animate-fade-in-up">
                ¿Cómo funciona? Es simple.
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
                <div class="relative flex flex-col items-center p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 transform hover:scale-[1.02] transition-transform duration-300 animate-fade-in-up animation-delay-300">
                    <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white w-12 h-12 flex items-center justify-center rounded-full text-xl font-bold shadow-md">1</div>
                    <UserPlus class="w-16 h-16 mx-auto text-blue-600 dark:text-blue-400 mb-6 mt-6" />
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3">Regístrate Gratis</h3>
                    <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
                        Crea tu cuenta en segundos. Sin tarjetas, sin compromisos. Solo necesitas un email.
                    </p>
                </div>
                <div class="relative flex flex-col items-center p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 transform hover:scale-[1.02] transition-transform duration-300 animate-fade-in-up animation-delay-600">
                    <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-green-600 text-white w-12 h-12 flex items-center justify-center rounded-full text-xl font-bold shadow-md">2</div>
                    <LayoutDashboard class="w-16 h-16 mx-auto text-green-600 dark:text-green-400 mb-6 mt-6" />
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3">Organiza tus Finanzas</h3>
                    <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
                        Añade tus cuentas, registra transacciones y categoriza todo fácilmente desde tu dashboard.
                    </p>
                </div>
                <div class="relative flex flex-col items-center p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 transform hover:scale-[1.02] transition-transform duration-300 animate-fade-in-up animation-delay-900">
                    <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-purple-600 text-white w-12 h-12 flex items-center justify-center rounded-full text-xl font-bold shadow-md">3</div>
                    <TrendingUp class="w-16 h-16 mx-auto text-purple-600 dark:text-purple-400 mb-6 mt-6" />
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3">Toma Decisiones Inteligentes</h3>
                    <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
                        Obtén reportes claros y visualizaciones que te ayudarán a mejorar tu salud financiera.
                    </p>
                </div>
            </div>
        </section>

        <!-- testimonios de carrousell -->
        <section class="relative max-w-7xl mx-auto px-6 py-16 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 rounded-3xl shadow-xl overflow-hidden" data-parallax-bg="testimonial-parallax-bg">

            <!-- Fondo de partículas sutil con movimiento parallax -->
            <div class="absolute inset-0 z-0 pointer-events-none testimonial-parallax-bg"></div>

            <h2 class="relative z-10 text-4xl font-extrabold text-center text-gray-900 dark:text-gray-100 mb-12 animate-fade-in-up">
                Lo que nuestros usuarios dicen
            </h2>
            <div class="relative z-10 testimonial-carousel">
                <div class="carousel-track flex transition-transform duration-500 ease-in-out">
                    <!-- Testimonial 1 -->
                    <div class="carousel-item flex-shrink-0 w-full md:w-1/2 lg:w-1/3 p-4">
                        <div class="bg-white/10 dark:bg-gray-700/20 backdrop-blur-md p-8 rounded-2xl shadow-lg border border-white/20 dark:border-gray-600 flex flex-col items-center text-center h-full">
                            <img src="https://placehold.co/80x80/6366F1/FFFFFF?text=JD" alt="Avatar de usuario" class="w-20 h-20 rounded-full mb-4 border-4 border-indigo-400 dark:border-indigo-600 shadow-md">
                            <p class="text-lg text-gray-800 dark:text-gray-200 italic mb-4">
                                "Contabilito ha transformado la forma en que gestiono mis gastos. ¡Es increíblemente intuitivo y me ahorra muchísimo tiempo!"
                            </p>
                            <p class="font-semibold text-indigo-600 dark:text-indigo-400">- Juan D., Emprendedor</p>
                        </div>
                    </div>
                    <!-- Testimonial 2 -->
                    <div class="carousel-item flex-shrink-0 w-full md:w-1/2 lg:w-1/3 p-4">
                        <div class="bg-white/10 dark:bg-gray-700/20 backdrop-blur-md p-8 rounded-2xl shadow-lg border border-white/20 dark:border-gray-600 flex flex-col items-center text-center h-full">
                            <img src="https://placehold.co/80x80/10B981/FFFFFF?text=AM" alt="Avatar de usuario" class="w-20 h-20 rounded-full mb-4 border-4 border-teal-400 dark:border-teal-600 shadow-md">
                            <p class="text-lg text-gray-800 dark:text-gray-200 italic mb-4">
                                "Por fin una herramienta que me permite ver mis finanzas claras. Los reportes son fantásticos y muy fáciles de entender."
                            </p>
                            <p class="font-semibold text-teal-600 dark:text-teal-400">- Ana M., Freelancer</p>
                        </div>
                    </div>
                    <!-- Testimonial 3 -->
                    <div class="carousel-item flex-shrink-0 w-full md:w-1/2 lg:w-1/3 p-4">
                        <div class="bg-white/10 dark:bg-gray-700/20 backdrop-blur-md p-8 rounded-2xl shadow-lg border border-white/20 dark:border-gray-600 flex flex-col items-center text-center h-full">
                            <img src="https://placehold.co/80x80/F472B6/FFFFFF?text=CR" alt="Avatar de usuario" class="w-20 h-20 rounded-full mb-4 border-4 border-rose-400 dark:border-rose-600 shadow-md">
                            <p class="text-lg text-gray-800 dark:text-gray-200 italic mb-4">
                                "La gestión multi-empresa es un salvavidas. Contabilito es la única solución que realmente funciona para mis múltiples proyectos."
                            </p>
                            <p class="font-semibold text-rose-600 dark:text-rose-400">- Carlos R., Consultor</p>
                        </div>
                    </div>
                    <!-- Testimonial 4 (para que el carousel pueda moverse) -->
                    <div class="carousel-item flex-shrink-0 w-full md:w-1/2 lg:w-1/3 p-4">
                        <div class="bg-white/10 dark:bg-gray-700/20 backdrop-blur-md p-8 rounded-2xl shadow-lg border border-white/20 dark:border-gray-600 flex flex-col items-center text-center h-full">
                            <img src="https://placehold.co/80x80/60A5FA/FFFFFF?text=LP" alt="Avatar de usuario" class="w-20 h-20 rounded-full mb-4 border-4 border-blue-400 dark:border-blue-600 shadow-md">
                            <p class="text-lg text-gray-800 dark:text-gray-200 italic mb-4">
                                "La interfaz es tan limpia y fácil de usar. ¡Nunca pensé que gestionar finanzas podría ser tan agradable!"
                            </p>
                            <p class="font-semibold text-blue-600 dark:text-blue-400">- Laura P., Dueña de Negocio</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-button prev absolute top-1/2 left-0 transform -translate-y-1/2 bg-white/70 dark:bg-gray-700/70 p-3 rounded-full shadow-lg hover:bg-white dark:hover:bg-gray-600 transition-colors duration-200 z-20 ml-4">
                    <ChevronLeft class="w-6 h-6 text-gray-800 dark:text-gray-200" />
                </button>
                <button class="carousel-button next absolute top-1/2 right-0 transform -translate-y-1/2 bg-white/70 dark:bg-gray-700/70 p-3 rounded-full shadow-lg hover:bg-white dark:hover:bg-gray-600 transition-colors duration-200 z-20 mr-4">
                    <ChevronRight class="w-6 h-6 text-gray-800 dark:text-gray-200" />
                </button>
            </div>
        </section>

        <!-- New Section 3: Pricing/Plans (Mock - More Modern) -->
        <section class="max-w-7xl mx-auto px-6 py-16">
            <h2 class="text-4xl font-extrabold text-center text-gray-900 dark:text-gray-100 mb-12 animate-fade-in-up">
                Elige tu camino financiero
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-end">
                <!-- Plan Básico -->
                <div class="pricing-card bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl border border-gray-200 dark:border-gray-700 text-center flex flex-col items-center transform hover:scale-[1.02] transition-transform duration-300 animate-fade-in-up animation-delay-200">
                    <Gem class="w-16 h-16 text-gray-500 dark:text-gray-400 mb-6" />
                    <h3 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2">Básico</h3>
                    <p class="text-6xl font-extrabold text-indigo-600 dark:text-indigo-400 mb-4">$0<span class="text-xl text-gray-500 dark:text-gray-400">/mes</span></p>
                    <ul class="text-gray-700 dark:text-gray-300 text-left space-y-3 mb-8 w-full">
                        <li class="flex items-center"><CheckCircle class="w-6 h-6 mr-2 text-green-500" /> 1 Empresa</li>
                        <li class="flex items-center"><CheckCircle class="w-6 h-6 mr-2 text-green-500" /> Transacciones ilimitadas</li>
                        <li class="flex items-center"><CheckCircle class="w-6 h-6 mr-2 text-green-500" /> Reportes esenciales</li>
                        <li class="flex items-center text-gray-500 dark:text-gray-400"><XCircle class="w-6 h-6 mr-2 text-red-500" /> Soporte prioritario</li>
                        <li class="flex items-center text-gray-500 dark:text-gray-400"><XCircle class="w-6 h-6 mr-2 text-red-500" /> Integraciones avanzadas</li>
                    </ul>
                    <a href="/register" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3.5 px-6 rounded-lg shadow-md hover:shadow-lg transition-colors duration-200">
                        Empieza Gratis
                    </a>
                </div>

                <!-- Plan Pro (Destacado - Más Elevado) -->
                <div class="pricing-card bg-gradient-to-br from-indigo-600 to-purple-700 p-10 rounded-3xl shadow-2xl border-4 border-yellow-400 text-white text-center flex flex-col items-center transform scale-[1.08] hover:scale-[1.1] transition-transform duration-300 animate-fade-in-up animation-delay-400 relative z-10">
                    <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-yellow-400 text-indigo-900 text-sm font-bold px-4 py-1.5 rounded-full shadow-md rotate-3">
                        Popular
                    </div>
                    <Crown class="w-20 h-20 text-yellow-300 mb-6 drop-shadow-lg" />
                    <h3 class="text-4xl font-bold mb-2">Pro</h3>
                    <p class="text-6xl font-extrabold mb-4">$19<span class="text-xl opacity-80">/mes</span></p>
                    <ul class="text-white text-left space-y-3 mb-8 opacity-90 w-full">
                        <li class="flex items-center"><CheckCircle class="w-6 h-6 mr-2 text-yellow-300" /> Empresas ilimitadas</li>
                        <li class="flex items-center"><CheckCircle class="w-6 h-6 mr-2 text-yellow-300" /> Todas las características básicas</li>
                        <li class="flex items-center"><CheckCircle class="w-6 h-6 mr-2 text-yellow-300" /> Reportes avanzados</li>
                        <li class="flex items-center"><CheckCircle class="w-6 h-6 mr-2 text-yellow-300" /> Soporte prioritario</li>
                        <li class="flex items-center"><CheckCircle class="w-6 h-6 mr-2 text-yellow-300" /> Integraciones clave</li>
                    </ul>
                    <a href="/register" class="w-full bg-white text-indigo-600 font-bold py-3.5 px-6 rounded-lg shadow-md hover:shadow-lg transition-colors duration-200">
                        Comprar Plan Pro
                    </a>
                </div>

                <!-- Plan Empresarial -->
                <div class="pricing-card bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl border border-gray-200 dark:border-gray-700 text-center flex flex-col items-center transform hover:scale-[1.02] transition-transform duration-300 animate-fade-in-up animation-delay-600">
                    <Building2 class="w-16 h-16 text-teal-600 dark:text-teal-400 mb-6" />
                    <h3 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2">Empresarial</h3>
                    <p class="text-6xl font-extrabold text-teal-600 dark:text-teal-400 mb-4">¡Contactar!</p>
                    <ul class="text-gray-700 dark:text-gray-300 text-left space-y-3 mb-8 w-full">
                        <li class="flex items-center"><CheckCircle class="w-6 h-6 mr-2 text-green-500" /> Todo lo de Pro</li>
                        <li class="flex items-center"><CheckCircle class="w-6 h-6 mr-2 text-green-500" /> Soluciones personalizadas</li>
                        <li class="flex items-center"><CheckCircle class="w-6 h-6 mr-2 text-green-500" /> Integraciones API</li>
                        <li class="flex items-center"><CheckCircle class="w-6 h-6 mr-2 text-green-500" /> Gestor de cuenta dedicado</li>
                        <li class="flex items-center"><CheckCircle class="w-6 h-6 mr-2 text-green-500" /> SLAs a medida</li>
                    </ul>
                    <a href="mailto:ventas@contabilito.com" class="w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3.5 px-6 rounded-lg shadow-md hover:shadow-lg transition-colors duration-200">
                        Contáctanos
                    </a>
                </div>
            </div>
        </section>

        <!-- New Section 4: FAQ (Accordion - More Visual) -->
        <section class="max-w-7xl mx-auto px-6 py-16">
            <h2 class="text-4xl font-extrabold text-center text-gray-900 dark:text-gray-100 mb-12 animate-fade-in-up">
                Preguntas Frecuentes
            </h2>
            <div class="space-y-6 max-w-4xl mx-auto">
                <!-- FAQ Item 1 -->
                <div class="faq-item bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 animate-fade-in-up animation-delay-200 overflow-hidden">
                    <button class="faq-question flex justify-between items-center w-full text-left text-xl font-semibold text-gray-900 dark:text-gray-100 py-2">
                        <span>¿Cómo Contabilito asegura la privacidad de mis datos?</span>
                        <ChevronDown class="w-7 h-7 text-indigo-600 dark:text-indigo-400 transform transition-transform duration-300" />
                    </button>
                    <div class="faq-answer max-h-0 opacity-0 overflow-hidden transition-all duration-500 ease-in-out mt-4 text-gray-700 dark:text-gray-300 leading-relaxed">
                        En Contabilito, la seguridad y privacidad de tus datos son nuestra máxima prioridad. Implementamos encriptación de extremo a extremo, autenticación robusta y auditorías de seguridad regulares para garantizar que tu información financiera esté siempre protegida. Cumplimos con las normativas de protección de datos más estrictas.
                    </div>
                </div>
                <!-- FAQ Item 2 -->
                <div class="faq-item bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 animate-fade-in-up animation-delay-400 overflow-hidden">
                    <button class="faq-question flex justify-between items-center w-full text-left text-xl font-semibold text-gray-900 dark:text-gray-100 py-2">
                        <span>¿Puedo importar datos de otras plataformas?</span>
                        <ChevronDown class="w-7 h-7 text-indigo-600 dark:text-indigo-400 transform transition-transform duration-300" />
                    </button>
                    <div class="faq-answer max-h-0 opacity-0 overflow-hidden transition-all duration-500 ease-in-out mt-4 text-gray-700 dark:text-gray-300 leading-relaxed">
                        Actualmente, estamos desarrollando una función de importación de datos que te permitirá subir tus transacciones y cuentas desde archivos CSV de otras plataformas financieras. Esta característica estará disponible muy pronto para facilitar aún más tu transición a Contabilito.
                    </div>
                </div>
                <!-- FAQ Item 3 -->
                <div class="faq-item bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 animate-fade-in-up animation-delay-600 overflow-hidden">
                    <button class="faq-question flex justify-between items-center w-full text-left text-xl font-semibold text-gray-900 dark:text-gray-100 py-2">
                        <span>¿Contabilito ofrece soporte al cliente?</span>
                        <ChevronDown class="w-7 h-7 text-indigo-600 dark:text-indigo-400 transform transition-transform duration-300" />
                    </button>
                    <div class="faq-answer max-h-0 opacity-0 overflow-hidden transition-all duration-500 ease-in-out mt-4 text-gray-700 dark:text-gray-300 leading-relaxed">
                        ¡Sí! Ofrecemos soporte al cliente a través de correo electrónico para todos nuestros usuarios. Para los planes Pro y Empresarial, brindamos soporte prioritario y un gestor de cuenta dedicado para asegurar que siempre tengas la ayuda que necesitas.
                    </div>
                </div>
            </div>
        </section>


        <!-- New Section 5: Final Call to Action / Contact - Immersive and Bold -->
        <section class="relative px-6 py-20 text-center overflow-hidden">

            <div class="relative z-10 max-w-4xl mx-auto bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-gray-800 dark:to-gray-700 dark:border-gray-700 backdrop-blur-lg p-12 rounded-3xl shadow-2xl border border-indigo-600/50 animate-fade-in-up">
                <h2 class="text-4xl md:text-5xl font-extrabold text-white mb-6 leading-tight drop-shadow-lg">
                    El Futuro de tus Finanzas Comienza Aquí.
                </h2>
                <p class="text-xl md:text-2xl text-white opacity-90 mb-10 max-w-3xl mx-auto">
                    No esperes más para transformar tu gestión financiera. ¡La claridad y el control te esperan!
                </p>
                <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6">
                    <a href="/register" class="bg-amber-400 hover:bg-amber-500 text-indigo-900 font-bold py-4 px-10 rounded-full shadow-xl hover:shadow-amber-500/50 transition-all duration-300 transform hover:-translate-y-1 text-lg flex items-center group">
                        <Rocket class="w-6 h-6 mr-3 transition-transform duration-300 group-hover:rotate-12" /> Regístrate Ahora
                    </a>
                    <a href="mailto:info@contabilito.com" class="bg-transparent border-2 border-white text-white font-semibold py-4 px-10 rounded-full shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 text-lg flex items-center group">
                        <Mail class="w-6 h-6 mr-3 transition-transform duration-300 group-hover:-translate-x-1" /> Contáctanos
                    </a>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-8 text-center border-t border-gray-200 dark:border-gray-700 transition-colors duration-300">
        <p>&copy; {new Date().getFullYear()} {appName}. Todos los derechos reservados.</p>
        <p class="mt-2 text-sm">Hecho con <Heart class="inline-block w-4 h-4 text-red-500" /> y Astro.</p>
    </footer>

    <style is:inline>
         /*  Fondo Global: Grid Background */
        .grid-background {
            background-image:
                linear-gradient(to right, rgba(255,255,255,0.05) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 40px 40px;
            animation: pan-grid 60s linear infinite;
        }
        @keyframes pan-grid {
            from { background-position: 0 0; }
            to { background-position: -400px -400px; } /* Mueve el patrón */
        }

        /* Fondo Global: Puntos sutiles */
        .background-dots {
            background-image: radial-gradient(circle, rgba(0,0,0,0.2) 1.5px, transparent 1px);
            background-size: 20px 20px;
            animation: pan-dots 30s linear infinite;
        }
        @keyframes pan-dots {
            from { background-position: 0 0; }
            to { background-position: -200px -200px; }
        }

        /* Animaciones para el Hero Section (blobs) */
        .animate-blob {
            animation: blob 7s infinite cubic-bezier(0.6, 0.01, 0.3, 0.9);
        }
        @keyframes blob {
            0% {
                transform: translate(0, 0) scale(1);
            }
            33% {
                transform: translate(30px, -50px) scale(1.1);
            }
            66% {
                transform: translate(-20px, 20px) scale(0.9);
            }
            100% {
                transform: translate(0, 0) scale(1);
            }
        }

        .animate-blob-left {
            animation: blob-left 7s infinite cubic-bezier(0.6, 0.01, 0.3, 0.9);
        }
        @keyframes blob-left {
            0% {
            transform: translate(0, 0) scale(1);
            }
            33% {
            transform: translate(-30px, -50px) scale(1.1);
            }
            66% {
            transform: translate(10px, 20px) scale(0.9);
            }
            100% {
            transform: translate(0, 0) scale(1);
            }
        }

        /* Feature Cards: Sutil resplandor en hover */
        .feature-card-glow {
            background: radial-gradient(circle at center, rgba(255,255,255,0.1) 0%, transparent 70%);
            transform: scale(0);
            transition: transform 0.7s ease-out;
        }
        .feature-card:hover .feature-card-glow {
            transform: scale(2);
        }

        /* Workflow Section: Línea SVG animada */
        .workflow-path {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            fill: none;
            stroke-dasharray: 0;
            stroke-dashoffset: 0;
            transition: stroke-dashoffset 2s ease-out; /* Transición para la animación de la línea */
        }
        .path-animation {
            stroke-dasharray: 1000; /* Longitud máxima de la línea */
            stroke-dashoffset: 1000; /* Inicialmente oculta */
            animation: draw-svg-path 2s ease-out forwards;
            animation-delay: 0.8s; /* Retraso para que aparezca después de los elementos */
        }
        @keyframes draw-svg-path {
            to {
                stroke-dashoffset: 0;
            }
        }

         /* Animaciones de entrada (draw-line) */
        @keyframes draw-line {
            0% { width: 0; opacity: 0; }
            50% { width: 100%; opacity: 1; }
            100% { width: 100%; opacity: 1; }
        }
        .animate-draw-line {
            animation: draw-line 1.5s ease-out forwards;
            animation-delay: 0.8s; /* Retraso para que aparezca después del paso anterior */
        }


        /* Testimonials Section: Parallax de partículas */
        .testimonial-parallax-bg {
            background: radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.1) 0%, rgba(255,255,255,0) 50%),
                        radial-gradient(circle at 90% 80%, rgba(255, 255, 255, 0.1) 0%, rgba(255,255,255,0) 50%);
            animation: subtle-pulse 10s infinite alternate;
            transform: translateZ(-1px) scale(2); /* Efecto parallax */
        }

        @keyframes subtle-pulse {
            0% { opacity: 0.8; transform: scale(1); }
            100% { opacity: 1; transform: scale(1.02); }
        }

        /* FAQ Accordion Transitions */
        .faq-answer.open {
            max-height: 200px; /* Suficiente para la mayoría de respuestas */
            opacity: 1;
            padding-top: 1rem; /* Añadir padding cuando está abierto */
        }

/* Retrasos para animaciones */
.animation-delay-200 { animation-delay: 0.2s; }
.animation-delay-300 { animation-delay: 0.3s; }
.animation-delay-400 { animation-delay: 0.4s; }
.animation-delay-500 { animation-delay: 0.5s; }
.animation-delay-600 { animation-delay: 0.6s; }
.animation-delay-900 { animation-delay: 0.9s; }
.animation-delay-1000 { animation-delay: 1s; }
.animation-delay-1200 { animation-delay: 1.2s; }
.animation-delay-1500 { animation-delay: 1.5s; }
.animation-delay-1700 { animation-delay: 1.7s; }
.animation-delay-1900 { animation-delay: 1.9s; }
.animation-delay-2000 { animation-delay: 2s; }
.animation-delay-2100 { animation-delay: 2.1s; }
    </style>

    <script is:inline>
        document.addEventListener('DOMContentLoaded', () => {
            // Lógica para el acordeón de Preguntas Frecuentes (FAQ)
            const faqQuestions = document.querySelectorAll('.faq-question');
            faqQuestions.forEach(button => {
                button.addEventListener('click', () => {
                    const faqItem = button.closest('.faq-item');
                    const answer = faqItem.querySelector('.faq-answer');
                    const icon = button.querySelector('svg'); // Buscamos el ícono SVG

                    // Cierra otras preguntas abiertas
                    document.querySelectorAll('.faq-answer.open').forEach(otherAnswer => {
                        if (otherAnswer !== answer) {
                            otherAnswer.classList.remove('open');
                            otherAnswer.closest('.faq-item').querySelector('svg').classList.remove('rotate-180');
                        }
                    });

                    // Alterna la visibilidad de la respuesta y rota el icono
                    answer.classList.toggle('open');
                    icon.classList.toggle('rotate-180');
                });
            });

            // Lógica para el carrusel de Testimonios
            const carouselTrack = document.querySelector('.testimonial-carousel .carousel-track');
            const prevButton = document.querySelector('.testimonial-carousel .carousel-button.prev');
            const nextButton = document.querySelector('.testimonial-carousel .carousel-button.next');
            let currentIndex = 0;

            function updateCarousel() {
                if (!carouselTrack || carouselTrack.children.length === 0) return;

                const itemWidth = carouselTrack.children[0].offsetWidth + (parseFloat(getComputedStyle(carouselTrack.children[0]).marginRight) || 0) + (parseFloat(getComputedStyle(carouselTrack.children[0]).marginLeft) || 0);

                let itemsToShow = 1;
                if (window.innerWidth >= 1024) { // lg breakpoint
                    itemsToShow = 3;
                } else if (window.innerWidth >= 768) { // md breakpoint
                    itemsToShow = 2;
                }

                const totalItems = carouselTrack.children.length;
                const maxIndex = totalItems - itemsToShow;

                // Asegurarse de que currentIndex no exceda el límite
                if (currentIndex > maxIndex) {
                    currentIndex = maxIndex;
                }
                if (currentIndex < 0) {
                    currentIndex = 0;
                }

                const offset = -currentIndex * itemWidth;
                carouselTrack.style.transform = `translateX(${offset}px)`;

                // Deshabilitar botones si se llega al límite
                prevButton.disabled = currentIndex === 0;
                nextButton.disabled = currentIndex >= maxIndex;

                // Ocultar/mostrar botones si no hay suficientes elementos para el carrusel
                if (totalItems <= itemsToShow) {
                    prevButton.style.display = 'none';
                    nextButton.style.display = 'none';
                } else {
                    prevButton.style.display = 'flex';
                    nextButton.style.display = 'flex';
                }
            }

            prevButton.addEventListener('click', () => {
                if (currentIndex > 0) {
                    currentIndex--;
                    updateCarousel();
                }
            });

            nextButton.addEventListener('click', () => {
                const itemWidth = carouselTrack.children[0].offsetWidth + (parseFloat(getComputedStyle(carouselTrack.children[0]).marginRight) || 0) + (parseFloat(getComputedStyle(carouselTrack.children[0]).marginLeft) || 0);
                let itemsToShow = 1;
                if (window.innerWidth >= 1024) { itemsToShow = 3; }
                else if (window.innerWidth >= 768) { itemsToShow = 2; }

                const totalItems = carouselTrack.children.length;
                const maxIndex = totalItems - itemsToShow;

                if (currentIndex < maxIndex) {
                    currentIndex++;
                    updateCarousel();
                }
            });

            // Actualizar carrusel al cargar y al redimensionar
            window.addEventListener('resize', () => {
                currentIndex = 0; // Reset index on resize to prevent out-of-bounds issues
                updateCarousel();
            });
            updateCarousel(); // Initial call

            // Lógica para la animación de la línea SVG del Workflow
            const workflowPath = document.querySelector('.workflow-path .path-animation');
            if (workflowPath) {
                const length = workflowPath.getTotalLength();
                workflowPath.style.strokeDasharray = length + ' ' + length;
                workflowPath.style.strokeDashoffset = length;
                // La animación se activa con la clase .path-animation y su animation-delay
            }
        });
    </script>

</Layout>
